(this["webpackJsonpapollo-2021"]=this["webpackJsonpapollo-2021"]||[]).push([[0],{88:function(n,e,i){"use strict";i.r(e);var t=i(4),r=(i(2),i(66)),o=i.n(r),c=i(33),a=i(10),u=i(9),d=i(16),l=i(11),s=i(72);function v(){var n=Object(u.a)(["\n  background-color: transparent;\n  border: transparent;\n  font-size: 20px;\n"]);return v=function(){return n},n}function b(){var n=Object(u.a)(["\n   background-image: url(",");\n   height: 100%;\n   width: 100%;\n   background-size: cover;\n   background-position: center center;\n "]);return b=function(){return n},n}function g(){var n=Object(u.a)(["\n   height: 380px;\n   width: 100%;\n   box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n   border-radius: 7px;\n "]);return g=function(){return n},n}function j(){var n=Object(u.a)(["\n  mutation likeMovie($id: Int!, $isLiked: Boolean!) {\n    toggleLikeMovie(id: $id, isLiked: $isLiked) @client\n  }\n"]);return j=function(){return n},n}var f=Object(d.gql)(j()),p=l.a.div(g()),h=l.a.div(b(),(function(n){return n.bg})),m=l.a.button(v()),x=function(n){var e=n.id,i=n.bg,r=n.isLiked,o=Object(d.useMutation)(f,{variables:{id:e,isLiked:r}}),a=Object(s.a)(o,1)[0];return Object(t.jsxs)(p,{children:[Object(t.jsx)(c.b,{to:"/".concat(e),children:Object(t.jsx)(h,{bg:i})}),Object(t.jsx)("link",{href:"https://emoji-css.afeld.me/emoji.css",rel:"stylesheet"}),Object(t.jsx)(m,{onClick:a,children:r?"\ud83d\udc4e":"\ud83d\udc4d"})]})};function O(){var n=Object(u.a)(["\n   display: grid;\n   grid-template-columns: repeat(4, 1fr);\n   grid-gap: 40px;\n   width: 60%;\n   position: relative;\n   top: -50px;\n "]);return O=function(){return n},n}function k(){var n=Object(u.a)(["\n  font-size: 18px;\n  opacity: 0.5;\n  font-weight: 500;\n  margin-top: 10px;\n"]);return k=function(){return n},n}function w(){var n=Object(u.a)(["\n  font-size: 35px;\n"]);return w=function(){return n},n}function L(){var n=Object(u.a)(["\n  font-size: 60px;\n  font-weight: 600;\n  margin-bottom: 20px;\n"]);return L=function(){return n},n}function y(){var n=Object(u.a)(["\n  background-image: linear-gradient(-45deg, #d754ab, #fd723a);\n  height: 45vh;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n"]);return y=function(){return n},n}function _(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n"]);return _=function(){return n},n}function z(){var n=Object(u.a)(["\n    {\n        movies {\n            id\n            medium_cover_image\n            isLiked @client\n        }\n    }\n"]);return z=function(){return n},n}var M=Object(d.gql)(z()),$=l.a.div(_()),I=l.a.header(y()),q=l.a.h1(L()),A=l.a.h3(w()),C=(l.a.div(k()),l.a.div(O())),Q=function(){var n,e=Object(d.useQuery)(M),i=(e.loading,e.data);return Object(t.jsxs)($,{children:[Object(t.jsxs)(I,{children:[Object(t.jsx)(q,{children:"Apollo 2020"}),Object(t.jsx)(A,{children:"I love GraphQL"})]}),Object(t.jsx)(C,{children:null===i||void 0===i||null===(n=i.movies)||void 0===n?void 0:n.map((function(n){return Object(t.jsx)(x,{id:n.id,isLiked:n.isLiked,bg:n.medium_cover_image},n.id)}))})]})};function B(){var n=Object(u.a)(["\n   display: grid;\n   grid-template-columns: repeat(4, 1fr);\n   grid-gap: 25px;\n   width: 100%;\n   position: relative;\n   top: 40px;\n "]);return B=function(){return n},n}function J(){var n=Object(u.a)(["\n   width: 25%;\n   height: 60%;\n   background-color: transparent;\n   background-image: url(",");\n   background-size: cover;\n   background-position: center center;\n "]);return J=function(){return n},n}function E(){var n=Object(u.a)(["\n   font-size: 28px;\n "]);return E=function(){return n},n}function G(){var n=Object(u.a)(["\n   font-size: 35px;\n   margin-bottom: 10px;\n "]);return G=function(){return n},n}function P(){var n=Object(u.a)(["\n   font-size: 65px;\n   margin-bottom: 15px;\n "]);return P=function(){return n},n}function D(){var n=Object(u.a)(["\n   margin-left: 10px;\n   width: 50%;\n "]);return D=function(){return n},n}function F(){var n=Object(u.a)(["\n   height: 100vh;\n   background-image: linear-gradient(-45deg, #d754ab, #fd723a);\n   width: 100%;\n   display: flex;\n   justify-content: space-around;\n   align-items: center;\n   color: white;\n "]);return F=function(){return n},n}function H(){var n=Object(u.a)(["\n    query getMovie($id: Int!) {\n        movie(id: $id) {\n            id\n            title\n            medium_cover_image\n            language\n            rating\n            description_intro\n            isLiked @client\n        }\n        suggestions(id: $id) {\n            id\n            medium_cover_image\n        }\n    }\n"]);return H=function(){return n},n}var K=Object(d.gql)(H()),N=l.a.div(F()),R=l.a.div(D()),S=l.a.h1(P()),T=l.a.h4(G()),U=l.a.p(E()),V=l.a.div(J(),(function(n){return n.bg})),W=l.a.div(B()),X=function(){var n,e,i,r,o,c=Object(a.e)().id,u=Object(d.useQuery)(K,{variables:{id:+c}}),l=u.loading,s=u.data;return console.log(null===s||void 0===s?void 0:s.suggestions),Object(t.jsxs)(N,{children:[Object(t.jsxs)(R,{children:[Object(t.jsx)(S,{children:l?"Loading...":"".concat(s.movie.title," ").concat(s.movie.isLiked?"\u2764\ufe0f":"\ud83d\udc94")}),Object(t.jsxs)(T,{children:[null===s||void 0===s||null===(n=s.movie)||void 0===n?void 0:n.language," \xb7 ",null===s||void 0===s||null===(e=s.movie)||void 0===e?void 0:e.rating]}),Object(t.jsx)(U,{children:null===s||void 0===s||null===(i=s.movie)||void 0===i?void 0:i.description_intro}),Object(t.jsx)(W,{children:null===s||void 0===s||null===(r=s.suggestions)||void 0===r?void 0:r.map((function(n){return Object(t.jsx)(x,{id:n.id,bg:n.medium_cover_image},n.id)}))})]}),Object(t.jsx)(V,{bg:null===s||void 0===s||null===(o=s.movie)||void 0===o?void 0:o.medium_cover_image})]})};var Y=function(){return Object(t.jsxs)(c.a,{children:[Object(t.jsx)(a.a,{exact:!0,path:"/",component:Q}),Object(t.jsx)(a.a,{path:"/:id",component:X})]})},Z=new d.ApolloClient({uri:"http://localhost:4000/",cache:new d.InMemoryCache,resolvers:{Movie:{isLiked:function(){return!1}},Mutation:{toggleLikeMovie:function(n,e,i){var t=e.id,r=e.isLiked,o=i.cache,c={__typename:"Movie",id:"".concat(t),isLiked:"".concat(r)};o.modify({id:o.identify(c),fields:{isLiked:function(n){return!r}}})}}}});o.a.render(Object(t.jsx)(d.ApolloProvider,{client:Z,children:Object(t.jsx)(Y,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.6a74e1cc.chunk.js.map